import{n as c,p as o,s as g,j as s,u as h,a as r,r as a,f as p,b as C,S as d,C as n,L as j}from"./index-5954164d.js";import{C as E,B as S}from"./CamperList-380e8b9b.js";const w=e=>e.campers.items,B=e=>e.campers.status,b=e=>e.campers.error,L=e=>e.campers.nextPage,P=({message:e})=>s.jsx(y,{children:s.jsx(D,{children:e})}),y=c.div({label:"ErrorBox",display:"flex",justifyContent:"center",alignItems:"center",minWidth:"100%",minHeight:200,color:o.error.onSurface,backgroundColor:o.error.surface,border:`solid 1px ${o.error.stroke}`,padding:`${g.small}px`}),D=c.p({}),G=()=>{const e=h(),l=r(w),t=r(L),i=r(B),m=r(b),[x,u]=a.useState(0);a.useEffect(()=>(console.log("Catalog useEffect"),e(p({page:t})),()=>{e(C())}),[]),a.useEffect(()=>{window.scrollTo({top:x})},[l]);const f=()=>{e(p({page:t})),u(window.scrollY)};return i===d.pending?s.jsx(n,{children:s.jsx(j,{})}):i===d.failed?s.jsx(n,{children:s.jsx(P,{message:m.message})}):s.jsx(n,{children:s.jsxs(k,{children:[s.jsx(E,{campers:l}),t&&s.jsx(S,{handleClick:f,children:"Load more"})]})})},k=c.div({label:"DataBox",display:"flex",flexDirection:"column",alignItems:"center",rowGap:50});export{G as default};
